#ifndef __SCR_MENU_H__
#define __SCR_MENU_H__

#include "fsm.h"
#include "port.h"
#include "message.h"
#include "timer.h"

#include "sys_ctrl.h"
#include "sys_dbg.h"

#include "app.h"
#include "app_dbg.h"
#include "task_list.h"

#include "task_display.h"
#include "view_render.h"
#include <string>

#include "buzzer.h"
const uint8_t frame_block[2] = {
    0b10,
    0b01
};
const unsigned char gameplay_bitmap [] PROGMEM= {
  0x1f, 0xff, 0xff, 0xe0, 0x20, 0x00, 0x00, 0x10, 0x40, 0x00, 0x00, 0x08,
  0x80, 0x3f, 0xf0, 0x04, 0x80, 0x40, 0x08, 0x04, 0x80, 0x40, 0x08, 0x04,
  0x80, 0x3f, 0xf0, 0x04, 0x86, 0x00, 0x00, 0x04, 0x86, 0x00, 0x07, 0xe4,
  0x9f, 0x80, 0x07, 0xe4, 0x9f, 0x80, 0x00, 0x04, 0x86, 0x00, 0x00, 0x04,
  0x86, 0x1f, 0xe0, 0x04, 0x80, 0x20, 0x10, 0x04, 0x40, 0x40, 0x08, 0x08,
  0x3f, 0x80, 0x07, 0xf0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
const unsigned char config_bitmap [] PROGMEM= {
	0x00, 0x03, 0x80, 0x00, 0x00, 0x04, 0x40, 0x00, 0x00, 0x64, 0x4c, 0x00, 0x00, 0x98, 0x32, 0x00, 
	0x00, 0x80, 0x02, 0x00, 0x00, 0x40, 0x04, 0x00, 0x00, 0x40, 0x04, 0x00, 0x01, 0x83, 0x83, 0x00, 
	0x02, 0x04, 0x40, 0x80, 0x02, 0x04, 0x40, 0x80, 0x01, 0x83, 0x83, 0x00, 0x00, 0x40, 0x04, 0x00, 
	0x00, 0x40, 0x04, 0x00, 0x00, 0x80, 0x02, 0x00, 0x00, 0x98, 0x32, 0x00, 0x00, 0x64, 0x4c, 0x00, 
	0x00, 0x04, 0x40, 0x00, 0x00, 0x03, 0x80, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};
const unsigned char top_bitmap [] PROGMEM = {
	0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x01, 0xff, 0xfe, 0x00, 
	0x03, 0x00, 0x03, 0x00, 0x04, 0x83, 0x04, 0x80, 0x08, 0x85, 0x04, 0x40, 0x08, 0x49, 0x08, 0x40, 
	0x04, 0x41, 0x08, 0x80, 0x03, 0x21, 0x13, 0x00, 0x00, 0xe1, 0x1c, 0x00, 0x00, 0x18, 0x60, 0x00, 
	0x00, 0x07, 0x80, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 0x00, 0x03, 0x00, 0x00, 
	0x00, 0x07, 0x80, 0x00, 0x00, 0x1f, 0xe0, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};

class MenuScreen
{
private:
    std::string pre_text;
    std::string cur_text;
    int anim_y;
    bool anim;
};

extern view_dynamic_t dyn_view_menu;

extern view_screen_t scr_menu;
extern void scr_menu_handle(ak_msg_t *msg);

#endif //__SCR_MENU_H__
